@page "/student"

<PageTitle>Student</PageTitle>
<h1>Student List</h1>


<div class="bg-white rounded mt-6 border border-bottom-0 position-relative ">

	<div class="d-flex justify-content-end gap-1 p-1 mt-4">
		<button class="btn btn-primary" @onclick="ToggleAddStudent">Add Student</button>
		<button class="btn btn-primary">Save List</button>
	</div>

	<div class="d-flex justify-content-between mt-2 border p-1">
		<h6>Parent/Guardian List</h6>
		<div>
			<div class="input-group">
				<input type="search" name="search" placeholder="search" /><span class="bi bi-search input-group-text"></span>

			</div>

		</div>
	</div>

	<table class="table table-striped table-hover border p-1">
		<thead>
			<tr>
				<th class="text-primary">FirstName</th>
				<th class="text-primary">LastName</th>
				<th class="text-primary">Age</th>
				<th class="text-primary">Gender</th>
				<th>Action</th>
			</tr>
		</thead>
		<tbody>
			@foreach (var student in students)
			{
				<tr>
					<td>@student.FirstName</td>
					<td>@student.LastName</td>
					<td>@student.Age</td>
					<td>@student.Gender</td>
					<td><a class="bi bi-layout-text-sidebar-reverse text-primary"></a> <a class="bi bi-pencil text-primary"></a> <a class="bi bi-trash text-primary"></a></td>
					@* <td>@student.FirstName</td> *@

				</tr>
			}
		</tbody>
	</table>

	<form class="@formDiv w-25 p-2 position-absolute z-2 top-100 start-50 translate-middle border rounded bg-white">
		<div class="d-flex justify-content-between align-items-center">
			<h4 class="text-center">Add Student</h4>
			<button type="button" class="bi bi-x bg-white border-0 btn-lg" @onclick="ToggleAddStudent"></button>
		</div>
		<div class="mb-3">
			<label for="inputForFirstName" class="form-label">First Name</label>
			<input type="text" class="form-control" id="inputForFirstName">
		</div>

		<div class="mb-3">
			<label for="inputForLastName" class="form-label">Last Name</label>
			<input type="text" class="form-control" id="inputForLastName">
		</div>

		<div class="mb-3">
			<label for="inputForAge" class="form-label">Age</label>
			<input type="text" class="form-control" id="inputForFirstName">
		</div>
		<div class="mb-3">
			<label for="selectForGender" class="form-label">Gender</label>
			<select id="selectForGender" class="form-select">
				<option>Male</option>
				<option>Female</option>

			</select>
		</div>

		<div class="mb-3">
			<label for="selectForParent" class="form-label">Parent/Guardian</label>
			<select id="selectForParent" class="form-select">
				<option>Mohammed</option>
				<option>Aisha</option>
			</select>
		</div>
		<button type="submit" class="btn btn-primary">Submit</button>
	</form>
</div>


@code {
	public class StudentModel
	{
		public Guid Id;
		public string FirstName;
		public string LastName;
		public int Age;
		public string Gender;
		public Guid ParentId;
	}

	private bool addStudentBool = false;
	private string? formDiv => addStudentBool ? null : "collapse";
	private string? blurEffect => addStudentBool ? "blur-div" : null;

	private List<StudentModel> students = new List<StudentModel>()
{
		new StudentModel
		{
			Id = new Guid(),
			FirstName = "Bebe",
			LastName = "X",
			Age = 15,
			Gender = "M",
			ParentId = new Guid()
		},
	};

	private void ToggleAddStudent()
	{
		addStudentBool = !addStudentBool;
	}

	private Func<StudentModel> DeleteStudent(Guid Id)
	{
		return null;
	}

	private Func<StudentModel> AddStudent(StudentModel student)
	{
		return null;
	}

	private Func<StudentModel> EditStudent(Guid Id, StudentModel student)
	{
		return null;
	}

	private Func<StudentModel> searchStudent(string name, string filterByParent)
	{
		return null;
	}

}
